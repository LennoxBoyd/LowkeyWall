<div class="bg-white/5 p-4 rounded-lg border border-white/10 ml-4">
  <p class="text-white mb-2">{{ reply.message }}</p>
  <span class="text-sm text-white/40">{{ reply.created_at|timesince }} ago</span>

  <!-- Reply toggle button -->
  <div class="mt-2">
    <a href="#" class="reply-toggle text-primary hover:underline text-sm">Reply</a>
  </div>

  <!-- Hidden reply form -->
  <div class="reply-form-container hidden mt-2">
    <form method="POST" class="reply-form space-y-2" data-reply-url="{% url 'post_reply' reply.confession.id reply.id %}">
      {% csrf_token %}
      <textarea name="message" rows="2" class="w-full p-2 rounded bg-black/20 border border-white/10 text-white placeholder-white/40" placeholder="Write your reply..."></textarea>
      <button type="submit" class="px-4 py-1 bg-gradient-to-r from-primary to-secondary rounded-button text-white text-sm font-semibold hover:opacity-90">
        Post Reply
      </button>
    </form>
  </div>

  <!-- Render nested children -->
  {% if reply.children.all %}
    <div class="mt-4 space-y-4">
      {% for child in reply.children.all %}
        {% include "reply_item.html" with reply=child %}
      {% endfor %}
    </div>
  {% endif %}
</div>
